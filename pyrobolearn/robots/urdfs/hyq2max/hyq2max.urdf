<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from hyq2max_model.urdf.xacro       | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="hyq" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <!-- 0.887 1.4192-->
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_controller_manager">
      <robotNamespace>/hyq2max</robotNamespace>
      <robotSimType>dls_gazebo_interface/DLSHWSim</robotSimType>
      <controlPeriod>0.004</controlPeriod>
    </plugin>
    <plugin filename="libgazebo_ros_p3d.so" name="gazebo_ros_p3d">
      <robotNamespace>/hyq2max</robotNamespace>
      <bodyName>trunk</bodyName>
      <topicName>ground_truth</topicName>
      <frameName>world</frameName>
      <xyzOffsets>0 0 0</xyzOffsets>
      <rpyOffsets>0 0 0</rpyOffsets>
      <gaussianNoise>0</gaussianNoise>
      <alwaysOn>true</alwaysOn>
      <updateRate>250.0</updateRate>
    </plugin>
  </gazebo>
  <!-- Now we can start using the macros included above to define the actual HyQ2Max -->
  <!-- The first use of a macro. This one was defined in trunk.urdf.xacro above.
A macro like this will expand to a set of link and joint definitions, and to additional
Gazebo-related extensions (sensor plugins, etc). The macro takes an argument, name,
that equals "base", and uses it to generate names for its component links and joints
(e.g., base_link). The included origin block is also an argument to the macro. By convention,
the origin block defines where the component is w.r.t its parent (in this case the parent
is the world frame). For more, see http://www.ros.org/wiki/xacro -->
  <!-- Floating-base Joint -->
  <!--joint name="floating_base" type="floating">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="base_link"/>
    <child link="trunk"/>
  </joint-->
  <!-- Links -->
  <!-- Footprint link -->
  <!--link name="base_link">
    <visual>
      <geometry>
        <cylinder length="0.01" radius="0.01"/>
      </geometry>
    </visual>
  </link-->
  <!-- ***********  MODEL COLORS *********** -->
  <material name="black">
    <color rgba="0.1 0.1 0.1 1"/>
  </material>
  <material name="white">
    <color rgba="0.9 0.9 0.9 1"/>
  </material>
  <material name="dark_gray">
    <color rgba="0.3 0.3 0.3 1"/>
  </material>
  <!-- Trunk link -->
  <link name="trunk">
    <inertial>
      <origin xyz="0.060663 0.000598 -0.007592"/>
      <mass value="39.71"/>
      <inertia ixx="0.3020795" ixy="-0.0050854" ixz="0.0046576" iyy="4.751448" iyz="-0.0017613" izz="4.82415"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.57079632679" xyz="0 0 0"/>
      <material name="black"/>
      <geometry>
        <mesh filename="meshes/trunk/trunk.stl" scale="1.0 1 1.0"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 1.57079632679" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/trunk/trunk.stl" scale="1.0 1 1.0"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="trunk">
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
  </gazebo>
  <!-- Joints -->
  <!-- HAA joint -->
  <joint name="lf_haa_joint" type="revolute">
    <origin rpy="3.14159265359 1.57079632679 0" xyz="0.4435 0.097 0"/>
    <parent link="trunk"/>
    <child link="lf_hipassembly"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="120.0" lower="-0.698131700798" upper="0.698131700798" velocity="12.0"/>
    <safety_controller k_position="100" k_velocity="100" soft_lower_limit="-0.698131700798" soft_upper_limit="0.698131700798"/>
  </joint>
  <!-- HFE joint -->
  <joint name="lf_hfe_joint" type="revolute">
    <origin rpy="1.57079632679 0 0" xyz="0 -0.117 0"/>
    <parent link="lf_hipassembly"/>
    <child link="lf_upperleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="245.0" lower="-2.35619449019" upper="2.35619449019" velocity="12.0"/>
    <safety_controller k_position="100" k_velocity="100" soft_lower_limit="-2.35619449019" soft_upper_limit="2.35619449019"/>
  </joint>
  <!-- KFE joint -->
  <joint name="lf_kfe_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.36 0 0"/>
    <parent link="lf_upperleg"/>
    <child link="lf_lowerleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="250.0" lower="-5.82939970166" upper="-0.0698131700798" velocity="12.0"/>
    <safety_controller k_position="100" k_velocity="100" soft_lower_limit="-5.82939970166" soft_upper_limit="-0.0698131700798"/>
  </joint>
  <!-- Foot joint -->
  <joint name="lf_foot_joint" type="fixed">
    <origin rpy="1.57079632679 0 -1.57079632679" xyz="0.38 0 0"/>
    <parent link="lf_lowerleg"/>
    <child link="lf_foot"/>
  </joint>
  <!-- Links -->
  <!-- Hip assembly link -->
  <link name="lf_hipassembly">
    <inertial>
      <origin xyz="-0.000605 -0.001346 0.000196"/>
      <mass value="3.54"/>
      <inertia ixx="0.007379" ixy="-5.3e-05" ixz="1.7e-05" iyy="0.004284" iyz="3e-05" izz="0.00709"/>
    </inertial>
    <visual>
      <origin rpy="0 -1.57079632679 -1.57079632679" xyz="0 -0.046 0"/>
      <geometry>
        <cylinder length="0.117" radius="0.0444"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 -1.57079632679 -1.57079632679" xyz="0 -0.046 0"/>
      <geometry>
        <!-- <mesh filename="meshes/leg/hipassembly.stl" scale="1 1 1"/> -->
        <cylinder length="0.117" radius="0.0444"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="lf_hipassembly">
    <material>Gazebo/Black</material>
  </gazebo>
  <!-- Upper leg link -->
  <link name="lf_upperleg">
    <inertial>
      <origin xyz="0.144296 -0.002071 -0.005094"/>
      <mass value="4.95"/>
      <inertia ixx="0.010196" ixy="-0.00232" ixz="-0.000141" iyy="0.204183" iyz="3.4e-05" izz="0.207532"/>
    </inertial>
    <visual>
      <origin rpy="1.57079632679 0 0" xyz="0 0 -0.03"/>
      <!-- <origin xyz="0.180 0 0" rpy="0 0 0"/> -->
      <geometry>
        <mesh filename="meshes/leg/upperleg.stl" scale="1 1 1"/>
        <!-- <box size="0.360 0.116 0.07"/> -->
        <!-- <cylinder length="0.360" radius="0.07"/> -->
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 0" xyz="0 0 -0.03"/>
      <!-- <origin xyz="0.180 0 0" rpy="0 0 0"/> -->
      <geometry>
        <mesh filename="meshes/leg/upperleg.stl" scale="1 1 1"/>
        <!-- <box size="0.360 0.116 0.07"/> -->
        <!-- <cylinder length="0.360" radius="0.07"/> -->
      </geometry>
    </collision>
  </link>
  <!-- Lower leg link -->
  <link name="lf_lowerleg">
    <inertial>
      <origin xyz="0.109015 0.042147 0.000219"/>
      <mass value="1.71"/>
      <inertia ixx="0.006848" ixy="0.011981" ixz="8e-06" iyy="0.055957" iyz="1.2e-05" izz="0.059397"/>
    </inertial>
    <visual>
      <origin rpy="1.57079632679 0 2.96705972839" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/leg/lowerleg.stl" scale="1 1 1"/>
      </geometry>
      <material name="white"/>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 2.96705972839" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/leg/lowerleg.stl" scale="1 1 1"/>
      </geometry>
    </collision>
  </link>
  <!-- Foot link -->
  <link name="lf_foot">
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.0"/>
      <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
    </inertial>
    <visual>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <sphere radius="0.021"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.02175"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="lf_foot">
    <material>Gazebo/Black</material>
  </gazebo>
  <!-- Hip assembly -->
  <transmission name="lf_haa_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lf_haa_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lf_haa_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Upper leg -->
  <transmission name="lf_hfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lf_hfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lf_hfe_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Lower leg -->
  <transmission name="lf_kfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lf_kfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lf_kfe_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="lf_haa_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="lf_kfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="lf_hfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="lf_upperleg">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <fdir1>1 0 0</fdir1>
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
  </gazebo>
  <gazebo reference="lf_lowerleg">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <fdir1>1 0 0</fdir1>
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
    <sensor name="lf_shin_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>1000.0</update_rate>
      <contact>
        <collision>lf_lowerleg_collision</collision>
      </contact>
      <plugin filename="libgazebo_ros_bumper.so" name="lf_shin_bumper">
        <bumperTopicName>/lf_shin_sensor</bumperTopicName>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="lf_foot">
    <sensor name="lf_foot_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>1000.0</update_rate>
      <contact>
        <collision>lf_foot_collision</collision>
      </contact>
      <plugin filename="libgazebo_ros_bumper.so" name="lf_foot_bumper">
        <bumperTopicName>/lf_grf</bumperTopicName>
        <frameName>base_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <!-- Joints -->
  <!-- HAA joint -->
  <joint name="rf_haa_joint" type="revolute">
    <origin rpy="0 1.57079632679 0" xyz="0.4435 -0.097 0"/>
    <parent link="trunk"/>
    <child link="rf_hipassembly"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="120.0" lower="-0.698131700798" upper="0.698131700798" velocity="12.0"/>
    <safety_controller k_position="100" k_velocity="100" soft_lower_limit="-0.698131700798" soft_upper_limit="0.698131700798"/>
  </joint>
  <!-- HFE joint -->
  <joint name="rf_hfe_joint" type="revolute">
    <origin rpy="-1.57079632679 0 0" xyz="0 -0.117 0"/>
    <parent link="rf_hipassembly"/>
    <child link="rf_upperleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="245.0" lower="-2.35619449019" upper="2.35619449019" velocity="12.0"/>
    <safety_controller k_position="100" k_velocity="100" soft_lower_limit="-2.35619449019" soft_upper_limit="2.35619449019"/>
  </joint>
  <!-- KFE joint -->
  <joint name="rf_kfe_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.36 0 0"/>
    <parent link="rf_upperleg"/>
    <child link="rf_lowerleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="250.0" lower="-5.82939970166" upper="-0.0698131700798" velocity="12.0"/>
    <safety_controller k_position="100" k_velocity="100" soft_lower_limit="-5.82939970166" soft_upper_limit="-0.0698131700798"/>
  </joint>
  <!-- Foot joint -->
  <joint name="rf_foot_joint" type="fixed">
    <origin rpy="1.57079632679 0 -1.57079632679" xyz="0.38 0 0"/>
    <parent link="rf_lowerleg"/>
    <child link="rf_foot"/>
  </joint>
  <!-- Links -->
  <!-- Hip assembly link -->
  <link name="rf_hipassembly">
    <inertial>
      <origin xyz="-0.000605 -0.001346 0.000196"/>
      <mass value="3.54"/>
      <inertia ixx="0.007379" ixy="-5.3e-05" ixz="1.7e-05" iyy="0.004284" iyz="3e-05" izz="0.00709"/>
    </inertial>
    <visual>
      <origin rpy="0 -1.57079632679 -1.57079632679" xyz="0 -0.046 0"/>
      <geometry>
        <cylinder length="0.117" radius="0.0444"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 -1.57079632679 -1.57079632679" xyz="0 -0.046 0"/>
      <geometry>
        <!-- <mesh filename="meshes/leg/hipassembly.stl" scale="1 1 1"/> -->
        <cylinder length="0.117" radius="0.0444"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="rf_hipassembly">
    <material>Gazebo/Black</material>
  </gazebo>
  <!-- Upper leg link -->
  <link name="rf_upperleg">
    <inertial>
      <origin xyz="0.144296 -0.002071 0.005094"/>
      <mass value="4.95"/>
      <inertia ixx="0.010196" ixy="-0.00232" ixz="0.000141" iyy="0.204183" iyz="-3.4e-05" izz="0.207532"/>
    </inertial>
    <visual>
      <origin rpy="-1.57079632679 0 0" xyz="0 0 0.03"/>
      <!-- <origin xyz="0.180 0 0" rpy="0 0 0"/> -->
      <geometry>
        <mesh filename="meshes/leg/upperleg.stl" scale="1 1 1"/>
        <!-- <box size="0.360 0.116 0.07"/> -->
        <!-- <cylinder length="0.360" radius="0.07"/> -->
      </geometry>
    </visual>
    <collision>
      <origin rpy="-1.57079632679 0 0" xyz="0 0 0.03"/>
      <!-- <origin xyz="0.180 0 0" rpy="0 0 0"/> -->
      <geometry>
        <mesh filename="meshes/leg/upperleg.stl" scale="1 1 1"/>
        <!-- <box size="0.360 0.116 0.07"/> -->
        <!-- <cylinder length="0.360" radius="0.07"/> -->
      </geometry>
    </collision>
  </link>
  <!-- Lower leg link -->
  <link name="rf_lowerleg">
    <inertial>
      <origin xyz="0.109015 0.042147 0.000219"/>
      <mass value="1.71"/>
      <inertia ixx="0.006848" ixy="0.011981" ixz="8e-06" iyy="0.055957" iyz="1.2e-05" izz="0.059397"/>
    </inertial>
    <visual>
      <origin rpy="1.57079632679 0 2.96705972839" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/leg/lowerleg.stl" scale="1 1 1"/>
      </geometry>
      <material name="white"/>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 2.96705972839" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/leg/lowerleg.stl" scale="1 1 1"/>
      </geometry>
    </collision>
  </link>
  <!-- Foot link -->
  <link name="rf_foot">
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.0"/>
      <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
    </inertial>
    <visual>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <sphere radius="0.021"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.02175"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="rf_foot">
    <material>Gazebo/Black</material>
  </gazebo>
  <!-- Hip assembly -->
  <transmission name="rf_haa_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rf_haa_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="rf_haa_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Upper leg -->
  <transmission name="rf_hfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rf_hfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="rf_hfe_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Lower leg -->
  <transmission name="rf_kfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rf_kfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="rf_kfe_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="rf_haa_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="rf_kfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="rf_hfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="rf_upperleg">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <fdir1>1 0 0</fdir1>
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
  </gazebo>
  <gazebo reference="rf_lowerleg">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <fdir1>1 0 0</fdir1>
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
    <sensor name="rf_shin_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>1000.0</update_rate>
      <contact>
        <collision>rf_lowerleg_collision</collision>
      </contact>
      <plugin filename="libgazebo_ros_bumper.so" name="rf_shin_bumper">
        <bumperTopicName>/rf_shin_sensor</bumperTopicName>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="rf_foot">
    <sensor name="rf_foot_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>1000.0</update_rate>
      <contact>
        <collision>rf_foot_collision</collision>
      </contact>
      <plugin filename="libgazebo_ros_bumper.so" name="rf_foot_bumper">
        <bumperTopicName>/rf_grf</bumperTopicName>
        <frameName>base_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <!-- Joints -->
  <!-- HAA joint -->
  <joint name="lh_haa_joint" type="revolute">
    <origin rpy="3.14159265359 1.57079632679 0" xyz="-0.4435 0.097 0"/>
    <parent link="trunk"/>
    <child link="lh_hipassembly"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="120.0" lower="-0.698131700798" upper="0.698131700798" velocity="12.0"/>
    <safety_controller k_position="100" k_velocity="100" soft_lower_limit="-0.698131700798" soft_upper_limit="0.698131700798"/>
  </joint>
  <!-- HFE joint -->
  <joint name="lh_hfe_joint" type="revolute">
    <origin rpy="1.57079632679 0 0" xyz="0 -0.117 0"/>
    <parent link="lh_hipassembly"/>
    <child link="lh_upperleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="245.0" lower="-2.35619449019" upper="2.35619449019" velocity="12.0"/>
    <safety_controller k_position="100" k_velocity="100" soft_lower_limit="-2.35619449019" soft_upper_limit="2.35619449019"/>
  </joint>
  <!-- KFE joint -->
  <joint name="lh_kfe_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.36 0 0"/>
    <parent link="lh_upperleg"/>
    <child link="lh_lowerleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="250.0" lower="0.0698131700798" upper="5.82939970166" velocity="12.0"/>
    <safety_controller k_position="100" k_velocity="100" soft_lower_limit="0.0698131700798" soft_upper_limit="5.82939970166"/>
  </joint>
  <!-- Foot joint -->
  <joint name="lh_foot_joint" type="fixed">
    <origin rpy="1.57079632679 0 -1.57079632679" xyz="0.38 0 0"/>
    <parent link="lh_lowerleg"/>
    <child link="lh_foot"/>
  </joint>
  <!-- Links -->
  <!-- Hip assembly link -->
  <link name="lh_hipassembly">
    <inertial>
      <origin xyz="-0.000605 -0.001346 0.000196"/>
      <mass value="3.54"/>
      <inertia ixx="0.007379" ixy="-5.3e-05" ixz="1.7e-05" iyy="0.004284" iyz="3e-05" izz="0.00709"/>
    </inertial>
    <visual>
      <origin rpy="0 -1.57079632679 -1.57079632679" xyz="0 -0.046 0"/>
      <geometry>
        <cylinder length="0.117" radius="0.0444"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 -1.57079632679 -1.57079632679" xyz="0 -0.046 0"/>
      <geometry>
        <!-- <mesh filename="meshes/leg/hipassembly.stl" scale="1 1 1"/> -->
        <cylinder length="0.117" radius="0.0444"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="lh_hipassembly">
    <material>Gazebo/Black</material>
  </gazebo>
  <!-- Upper leg link -->
  <link name="lh_upperleg">
    <inertial>
      <origin xyz="0.144296 0.002071 -0.005094"/>
      <mass value="4.95"/>
      <inertia ixx="0.010196" ixy="0.00232" ixz="-0.000141" iyy="0.204183" iyz="-3.4e-05" izz="0.207532"/>
    </inertial>
    <visual>
      <origin rpy="1.57079632679 0 0" xyz="0 0 -0.03"/>
      <!-- <origin xyz="0.180 0 0" rpy="0 0 0"/> -->
      <geometry>
        <mesh filename="meshes/leg/upperleg.stl" scale="1 1 1"/>
        <!-- <box size="0.360 0.116 0.07"/> -->
        <!-- <cylinder length="0.360" radius="0.07"/> -->
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 0" xyz="0 0 -0.03"/>
      <!-- <origin xyz="0.180 0 0" rpy="0 0 0"/> -->
      <geometry>
        <mesh filename="meshes/leg/upperleg.stl" scale="1 1 1"/>
        <!-- <box size="0.360 0.116 0.07"/> -->
        <!-- <cylinder length="0.360" radius="0.07"/> -->
      </geometry>
    </collision>
  </link>
  <!-- Lower leg link -->
  <link name="lh_lowerleg">
    <inertial>
      <origin xyz="0.109015 -0.042147 -0.000219"/>
      <mass value="1.71"/>
      <inertia ixx="0.006848" ixy="-0.011981" ixz="-8e-06" iyy="0.055957" iyz="1.2e-05" izz="0.059397"/>
    </inertial>
    <visual>
      <origin rpy="-1.57079632679 0 3.31612557879" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/leg/lowerleg.stl" scale="1 1 1"/>
      </geometry>
      <material name="white"/>
    </visual>
    <collision>
      <origin rpy="-1.57079632679 0 3.31612557879" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/leg/lowerleg.stl" scale="1 1 1"/>
      </geometry>
    </collision>
  </link>
  <!-- Foot link -->
  <link name="lh_foot">
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.0"/>
      <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
    </inertial>
    <visual>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <sphere radius="0.021"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.02175"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="lh_foot">
    <material>Gazebo/Black</material>
  </gazebo>
  <!-- Hip assembly -->
  <transmission name="lh_haa_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lh_haa_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lh_haa_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Upper leg -->
  <transmission name="lh_hfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lh_hfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lh_hfe_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Lower leg -->
  <transmission name="lh_kfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lh_kfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lh_kfe_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="lh_haa_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="lh_kfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="lh_hfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="lh_upperleg">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <fdir1>1 0 0</fdir1>
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
  </gazebo>
  <gazebo reference="lh_lowerleg">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <fdir1>1 0 0</fdir1>
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
    <sensor name="lh_shin_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>1000.0</update_rate>
      <contact>
        <collision>lh_lowerleg_collision</collision>
      </contact>
      <plugin filename="libgazebo_ros_bumper.so" name="lh_shin_bumper">
        <bumperTopicName>/lh_shin_sensor</bumperTopicName>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="lh_foot">
    <sensor name="lh_foot_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>1000.0</update_rate>
      <contact>
        <collision>lh_foot_collision</collision>
      </contact>
      <plugin filename="libgazebo_ros_bumper.so" name="lh_foot_bumper">
        <bumperTopicName>/lh_grf</bumperTopicName>
        <frameName>base_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <!-- Joints -->
  <!-- HAA joint -->
  <joint name="rh_haa_joint" type="revolute">
    <origin rpy="0 1.57079632679 0" xyz="-0.4435 -0.097 0"/>
    <parent link="trunk"/>
    <child link="rh_hipassembly"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="120.0" lower="-0.698131700798" upper="0.698131700798" velocity="12.0"/>
    <safety_controller k_position="100" k_velocity="100" soft_lower_limit="-0.698131700798" soft_upper_limit="0.698131700798"/>
  </joint>
  <!-- HFE joint -->
  <joint name="rh_hfe_joint" type="revolute">
    <origin rpy="-1.57079632679 0 0" xyz="0 -0.117 0"/>
    <parent link="rh_hipassembly"/>
    <child link="rh_upperleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="245.0" lower="-2.35619449019" upper="2.35619449019" velocity="12.0"/>
    <safety_controller k_position="100" k_velocity="100" soft_lower_limit="-2.35619449019" soft_upper_limit="2.35619449019"/>
  </joint>
  <!-- KFE joint -->
  <joint name="rh_kfe_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.36 0 0"/>
    <parent link="rh_upperleg"/>
    <child link="rh_lowerleg"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.1" friction="0"/>
    <limit effort="250.0" lower="0.0698131700798" upper="5.82939970166" velocity="12.0"/>
    <safety_controller k_position="100" k_velocity="100" soft_lower_limit="0.0698131700798" soft_upper_limit="5.82939970166"/>
  </joint>
  <!-- Foot joint -->
  <joint name="rh_foot_joint" type="fixed">
    <origin rpy="1.57079632679 0 -1.57079632679" xyz="0.38 0 0"/>
    <parent link="rh_lowerleg"/>
    <child link="rh_foot"/>
  </joint>
  <!-- Links -->
  <!-- Hip assembly link -->
  <link name="rh_hipassembly">
    <inertial>
      <origin xyz="-0.000605 -0.001346 0.000196"/>
      <mass value="3.54"/>
      <inertia ixx="0.007379" ixy="-5.3e-05" ixz="1.7e-05" iyy="0.004284" iyz="3e-05" izz="0.00709"/>
    </inertial>
    <visual>
      <origin rpy="0 -1.57079632679 -1.57079632679" xyz="0 -0.046 0"/>
      <geometry>
        <cylinder length="0.117" radius="0.0444"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 -1.57079632679 -1.57079632679" xyz="0 -0.046 0"/>
      <geometry>
        <!-- <mesh filename="meshes/leg/hipassembly.stl" scale="1 1 1"/> -->
        <cylinder length="0.117" radius="0.0444"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="rh_hipassembly">
    <material>Gazebo/Black</material>
  </gazebo>
  <!-- Upper leg link -->
  <link name="rh_upperleg">
    <inertial>
      <origin xyz="0.144296 0.002071 0.005094"/>
      <mass value="4.95"/>
      <inertia ixx="0.010196" ixy="0.00232" ixz="0.000141" iyy="0.204183" iyz="3.4e-05" izz="0.207532"/>
    </inertial>
    <visual>
      <origin rpy="-1.57079632679 0 0" xyz="0 0 0.03"/>
      <!-- <origin xyz="0.180 0 0" rpy="0 0 0"/> -->
      <geometry>
        <mesh filename="meshes/leg/upperleg.stl" scale="1 1 1"/>
        <!-- <box size="0.360 0.116 0.07"/> -->
        <!-- <cylinder length="0.360" radius="0.07"/> -->
      </geometry>
    </visual>
    <collision>
      <origin rpy="-1.57079632679 0 0" xyz="0 0 0.03"/>
      <!-- <origin xyz="0.180 0 0" rpy="0 0 0"/> -->
      <geometry>
        <mesh filename="meshes/leg/upperleg.stl" scale="1 1 1"/>
        <!-- <box size="0.360 0.116 0.07"/> -->
        <!-- <cylinder length="0.360" radius="0.07"/> -->
      </geometry>
    </collision>
  </link>
  <!-- Lower leg link -->
  <link name="rh_lowerleg">
    <inertial>
      <origin xyz="0.109015 -0.042147 -0.000219"/>
      <mass value="1.71"/>
      <inertia ixx="0.006848" ixy="-0.011981" ixz="-8e-06" iyy="0.055957" iyz="1.2e-05" izz="0.059397"/>
    </inertial>
    <visual>
      <origin rpy="-1.57079632679 0 3.31612557879" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/leg/lowerleg.stl" scale="1 1 1"/>
      </geometry>
      <material name="white"/>
    </visual>
    <collision>
      <origin rpy="-1.57079632679 0 3.31612557879" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/leg/lowerleg.stl" scale="1 1 1"/>
      </geometry>
    </collision>
  </link>
  <!-- Foot link -->
  <link name="rh_foot">
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.0"/>
      <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
    </inertial>
    <visual>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <sphere radius="0.021"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.02175"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="rh_foot">
    <material>Gazebo/Black</material>
  </gazebo>
  <!-- Hip assembly -->
  <transmission name="rh_haa_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rh_haa_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="rh_haa_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Upper leg -->
  <transmission name="rh_hfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rh_hfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="rh_hfe_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Lower leg -->
  <transmission name="rh_kfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rh_kfe_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="rh_kfe_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="rh_haa_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="rh_kfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="rh_hfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="rh_upperleg">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <fdir1>1 0 0</fdir1>
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
  </gazebo>
  <gazebo reference="rh_lowerleg">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <fdir1>1 0 0</fdir1>
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
    <sensor name="rh_shin_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>1000.0</update_rate>
      <contact>
        <collision>rh_lowerleg_collision</collision>
      </contact>
      <plugin filename="libgazebo_ros_bumper.so" name="rh_shin_bumper">
        <bumperTopicName>/rh_shin_sensor</bumperTopicName>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="rh_foot">
    <sensor name="rh_foot_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>1000.0</update_rate>
      <contact>
        <collision>rh_foot_collision</collision>
      </contact>
      <plugin filename="libgazebo_ros_bumper.so" name="rh_foot_bumper">
        <bumperTopicName>/rh_grf</bumperTopicName>
        <frameName>base_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
</robot>
