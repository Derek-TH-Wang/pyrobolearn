<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from bb.xacro                       | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="ballbot" xmlns:xacro="http://ros.org/wiki/xacro">
  <!-- Init colour -->
  <material name="black">
    <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <material name="dark">
    <color rgba="0.3 0.3 0.3 1.0"/>
  </material>
  <material name="light_black">
    <color rgba="0.4 0.4 0.4 1.0"/>
  </material>
  <material name="blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="green">
    <color rgba="0.0 0.8 0.0 1.0"/>
  </material>
  <material name="grey">
    <color rgba="0.2 0.2 0.2 1.0"/>
  </material>
  <material name="orange">
    <color rgba="1.0 0.423529411765 0.0392156862745 1.0"/>
  </material>
  <material name="brown">
    <color rgba="0.870588235294 0.811764705882 0.764705882353 1.0"/>
  </material>
  <material name="red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="white">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <material name="yellow">
    <color rgba="1.0 1.0 0.0 1.0"/>
  </material>
  <!-- controllers: -->
  <gazebo>
    <!--Plugin loads hardware interfaces and controller manager -->
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
      <robotNamespace>/ballbot/joints</robotNamespace>
      <robotParam>/ballbot/robot_description</robotParam>
      <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>
      <!--<controlPeriod> </controlPeriod>-->
    </plugin>
  </gazebo>
  <!-- Skid steer drive controller
<gazebo>
  <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so" />
  <plugin name="skid_steer_drive_controller" filename="libgazebo_ros_skid_steer_drive.so">
    <alwaysOn>1</alwaysOn>
    <updateRate>100.0</updateRate>
    <robotNamespace>/</robotNamespace>
    <leftFrontJoint>front_left_wheel_joint</leftFrontJoint>
    <rightFrontJoint>front_right_wheel_joint</rightFrontJoint>
    <leftRearJoint>back_left_wheel_joint</leftRearJoint>
    <rightRearJoint>back_right_wheel_joint</rightRearJoint>
    <wheelSeparation>${base_y_size}</wheelSeparation>
    <wheelDiameter>${2*wheel_radius}</wheelDiameter>
    <torque>100</torque>
    <broadcastTF>1</broadcastTF>
    <odometryFrame>map</odometryFrame>
    <commandTopic>cmd_vel</commandTopic>
    <odometryTopic>odom</odometryTopic>
    <robotBaseFrame>base_footprint</robotBaseFrame>
    <covariance_x>0.0001</covariance_x>
    <covariance_y>0.0001</covariance_y>
    <covariance_z>0.0001</covariance_z>
    <covariance_yaw>0.0001</covariance_yaw>
  </plugin>
</gazebo>  -->
  <!--   The <transmission> element is used to link actuators to joints
          Without a transmission link there is no tf published!
    -->
  <!--   <xacro:unless value="$(arg use_diff_drive)">-->
  <transmission name="wheel1_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wheel1_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="wheel1_joint_actuator">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="wheel2_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wheel2_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="wheel2_joint_actuator">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="wheel3_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wheel3_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="wheel3_joint_actuator">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- subwheels transmission's are not required or? (In case you  are not interested in the tf's of them -->
  <!-- generate subwheel transmission links: -->
  <!--<xacro:transmission_subwheel_pos_macro pos="1">
</xacro:transmission_subwheel_pos_macro>
<xacro:transmission_subwheel_pos_macro pos="2">
</xacro:transmission_subwheel_pos_macro>
<xacro:transmission_subwheel_pos_macro pos="3">
</xacro:transmission_subwheel_pos_macro>-->
  <!-- </xacro:unless>-->
  <!-- links: http://gazebosim.org/tutorials/?tut=ros_urdf-->
  <!--no multiple physics engines through urdf?!  -->
  <!--http://answers.gazebosim.org/question/14384/changing-physics-engine-through-urdf/-->
  <!--https://answers.ros.org/question/51956/simple-question-on-setting-bounce-properties-urdf/-->
  <gazebo reference="body_link">
    <!-- shortforms:-->
    <gravity>1</gravity>
    <maxVel>0.01</maxVel>
    <minDepth>0</minDepth>
    <mu1>0.0</mu1>
    <!-- das ist die Reibung am Boden oder?! -->
    <mu2>0.0</mu2>
    <fdir1>0 0 0</fdir1>
    <kp>1e+13</kp>
    <kd>1.0</kd>
    <selfCollide>0</selfCollide>
    <maxContacts>10</maxContacts>
    <laserRetro>0</laserRetro>
    <material>Gazebo/DarkGrey</material>
    <!-- not available as short form - full sdf:
      <collision>
         <surface>
            <friction>
               <torsional>
                  <coefficient>1</coefficient>
                  <patch_radius>0</patch_radius>
                  <surface_radius>0</surface_radius>
                  <use_patch_radius>1</use_patch_radius>
                  <ode>
                     <slip>0</slip>
                  </ode>
               </torsional>
            </friction>
            <bounce>
               <restitution_coefficient>0</restitution_coefficient>
               <threshold>1e+06</threshold>
            </bounce>
            <contact>
               <collide_without_contact>0</collide_without_contact>
               <collide_without_contact_bitmask>1</collide_without_contact_bitmask>
               <collide_bitmask>1</collide_bitmask>
               <ode>
                  <soft_cfm>0</soft_cfm>
                  <soft_erp>0.2</soft_erp>
                  <kp>1e+13</kp>
                  <kd>1</kd>
                  <max_vel>0.01</max_vel>
                  <min_depth>0</min_depth>
               </ode>
            </contact>
         </surface>
      </collision> -->
  </gazebo>
  <!--  <gazebo reference="camera_mount_link">
      <material>Gazebo/DarkGrey</material>
  </gazebo>-->
  <gazebo reference="wheel1_link">
    <mu1>0</mu1>
    <mu2>0</mu2>
    <kp>1e+13</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/Grey</material>
  </gazebo>
  <gazebo reference="wheel2_link">
    <mu1>0</mu1>
    <mu2>0</mu2>
    <kp>1e+13</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/Grey</material>
  </gazebo>
  <gazebo reference="wheel3_link">
    <mu1>0</mu1>
    <mu2>0</mu2>
    <kp>1e+13</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/Grey</material>
  </gazebo>
  <gazebo reference="subwheel1_1_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel1_2_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel1_3_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel1_4_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel1_5_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel1_1_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel1_2_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel1_3_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel1_4_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel1_5_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel2_1_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel2_2_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel2_3_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel2_4_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel2_5_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel2_1_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel2_2_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel2_3_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel2_4_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel2_5_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel3_1_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel3_2_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel3_3_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel3_4_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel3_5_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel3_1_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel3_2_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel3_3_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel3_4_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel3_5_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel4_1_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel4_2_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel4_3_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel4_4_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel4_5_out_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel4_1_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel4_2_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel4_3_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel4_4_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="subwheel4_5_in_link">
    <mu1>1e+3</mu1>
    <mu2>1e+3</mu2>
    <kp>1e+10</kp>
    <kd>1.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>0.1</maxVel>
    <fdir1>1 0 0</fdir1>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <!-- sensor links here! -->
  <gazebo reference="imu_link">
    <sensor name="imu" type="imu">
      <imu/>
      <plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">
        <robotNamespace/>
        <frameName>imu_link</frameName>
        <topicName>/ballbot/sensor/imu</topicName>
        <updateRateHZ>200.0</updateRateHZ>
        <gaussianNoise>0.001</gaussianNoise>
        <xyzOffset>0.0 0.0 0.0</xyzOffset>
        <rpyOffset>0.0 0.0 0.0</rpyOffset>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="base_scan">
    <material>Gazebo/Yellow</material>
    <sensor name="lds_lfcd_sensor" type="ray">
      <pose>0 0 0 0 0 0</pose>
      <visualize>False</visualize>
      <update_rate>5</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>360</samples>
            <resolution>1</resolution>
            <min_angle>0.0</min_angle>
            <max_angle>6.28</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.120</min>
          <max>3.5</max>
          <resolution>0.015</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin filename="libgazebo_ros_laser.so" name="gazebo_ros_lds_lfcd_controller">
        <robotNamespace>/ballbot/sensor</robotNamespace>
        <topicName>scan_raw</topicName>
        <frameName>base_scan</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <!-- real sense stuff in realsense_camera.urdf.xacro -->
  <!-- https://answers.ros.org/question/12430/modelling-sensorsimu-in-gazebo/ libgazebo_ros_imu.so-->
  <!-- <xacro:include filename="$(find ballbot_description)/urdf/realsense_camera.urdf.xacro" />
<xacro:include filename="$(find hector_xacro_tools)/urdf/inertia_tensors.urdf.xacro" />-->
  <!-- some properties:
   see: http://support.robotis.com/en/product/actuator/dynamixel_x/xm_series/xm430-w350.htm
   Effort: 4.1N.m (at 12.0V, 2.3A)  Velocity: 57rpm (at 14.8V) (no load speed)   -->
  <!-- unit is kg m^2 diagonal inertia value for ixx,iyy,izz -->
  <!-- sollte: ${61 * 2*pi/60}  klappt damit aber nicht nimm 5.7-->
  <!-- 0.05 sollte: 1.0 -->
  <link name="base_footprint"/>
  <joint name="body_joint" type="fixed">
    <parent link="base_footprint"/>
    <child link="body_link"/>
    <!-- World KS to Oberbau KS: Messung: 101+140   Michi: ${0.1149+0.08901}-->
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.22"/>
  </joint>
  <link name="body_link">
    <visual>
      <origin rpy="0.0 0.0  0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="meshes/base/Ballbot_ohne_Raeder_V2.0MS.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <cast_shadows>1</cast_shadows>
      <transparency>0</transparency>
      <material name="light_black"/>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="1.557"/>
      <inertia ixx="0.01567" ixy="-0.00003" ixz="-0.00002" iyy="0.00331" iyz="0.00010" izz="0.01565"/>
      <!-- km m^2 -->
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.096"/>
      <geometry>
        <cylinder length="0.192" radius="0.078"/>
        <!-- geht von der mitte des zylinders aus! -->
      </geometry>
      <!--            <geometry>
               <mesh filename="meshes/base/Ballbot_ohne_Raeder_V2.0MS.stl" scale="0.001 0.001 0.001" />
            </geometry>-->
    </collision>
  </link>
  <joint name="wheel1_joint" type="continuous">
    <parent link="body_link"/>
    <child link="wheel1_link"/>
    <origin rpy="0 0.785398163397 -1.57079632679" xyz="0.00015 -0.05734 -0.06826"/>
    <axis xyz="1 0 0"/>
    <limit effort="4.1" velocity="5.7"/>
    <dynamics damping="0.01" friction="0.05"/>
  </joint>
  <link name="wheel1_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Speichen_Orientation_Test_4.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <cast_shadows>1</cast_shadows>
      <transparency>0</transparency>
      <material name="light_black"/>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.063"/>
      <inertia ixx="1e-05" ixy="0" ixz="0" iyy="1e-05" iyz="0" izz="1e-05"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Speichen_Orientation_Test_4.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="wheel2_joint" type="continuous">
    <parent link="body_link"/>
    <child link="wheel2_link"/>
    <origin rpy="0 0.785398163397 0.523598775598" xyz="0.04936 0.02891 -0.06826"/>
    <axis xyz="1 0 0"/>
    <limit effort="4.1" velocity="5.7"/>
    <dynamics damping="0.01" friction="0.05"/>
  </joint>
  <link name="wheel2_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Speichen_Orientation_Test_4.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <cast_shadows>1</cast_shadows>
      <transparency>0</transparency>
      <material name="light_black"/>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.063"/>
      <inertia ixx="1e-05" ixy="0" ixz="0" iyy="1e-05" iyz="0" izz="1e-05"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Speichen_Orientation_Test_4.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="wheel3_joint" type="continuous">
    <parent link="body_link"/>
    <child link="wheel3_link"/>
    <origin rpy="0 0.785398163397 -3.66519142919" xyz="-0.04936 0.02867 -0.06826"/>
    <axis xyz="1 0 0"/>
    <limit effort="4.1" velocity="5.7"/>
    <dynamics damping="0.01" friction="0.05"/>
  </joint>
  <link name="wheel3_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Speichen_Orientation_Test_4.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <cast_shadows>1</cast_shadows>
      <transparency>0</transparency>
      <material name="light_black"/>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.063"/>
      <inertia ixx="1e-05" ixy="0" ixz="0" iyy="1e-05" iyz="0" izz="1e-05"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Speichen_Orientation_Test_4.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="subwheel1_top_joint" type="continuous">
    <parent link="wheel1_link"/>
    <child link="subwheel1_top_link"/>
    <origin rpy="3.14159265359 0 -1.57079632679" xyz="0.0125 0 -0.0234"/>
    <axis xyz="1 0 0"/>
    <limit effort="0" velocity="0"/>
    <dynamics damping="0" friction="0"/>
  </joint>
  <link name="subwheel1_top_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.006"/>
      <inertia ixx="1e-08" ixy="0" ixz="0" iyy="1e-08" iyz="0" izz="1e-08"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="subwheel1_bottom_joint" type="continuous">
    <parent link="wheel1_link"/>
    <child link="subwheel1_bottom_link"/>
    <origin rpy="0 0 -1.57079632679" xyz="0.0125 0 0.0234"/>
    <axis xyz="1 0 0"/>
    <limit effort="0" velocity="0"/>
    <dynamics damping="0" friction="0"/>
  </joint>
  <link name="subwheel1_bottom_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.006"/>
      <inertia ixx="1e-08" ixy="0" ixz="0" iyy="1e-08" iyz="0" izz="1e-08"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="subwheel1_right_joint" type="continuous">
    <parent link="wheel1_link"/>
    <child link="subwheel1_right_link"/>
    <origin rpy="0 -1.57079632679 -1.57079632679" xyz="0.0125 0.0234 0"/>
    <axis xyz="1 0 0"/>
    <limit effort="0" velocity="0"/>
    <dynamics damping="0" friction="0"/>
  </joint>
  <link name="subwheel1_right_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.006"/>
      <inertia ixx="1e-08" ixy="0" ixz="0" iyy="1e-08" iyz="0" izz="1e-08"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="subwheel1_left_joint" type="continuous">
    <parent link="wheel1_link"/>
    <child link="subwheel1_left_link"/>
    <origin rpy="0 1.57079632679 -1.57079632679" xyz="0.0125 -0.0234 0"/>
    <axis xyz="1 0 0"/>
    <limit effort="0" velocity="0"/>
    <dynamics damping="0" friction="0"/>
  </joint>
  <link name="subwheel1_left_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.006"/>
      <inertia ixx="1e-08" ixy="0" ixz="0" iyy="1e-08" iyz="0" izz="1e-08"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="subwheel2_top_joint" type="continuous">
    <parent link="wheel2_link"/>
    <child link="subwheel2_top_link"/>
    <origin rpy="3.14159265359 0 -1.57079632679" xyz="0.0125 0 -0.0234"/>
    <axis xyz="1 0 0"/>
    <limit effort="0" velocity="0"/>
    <dynamics damping="0" friction="0"/>
  </joint>
  <link name="subwheel2_top_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.006"/>
      <inertia ixx="1e-08" ixy="0" ixz="0" iyy="1e-08" iyz="0" izz="1e-08"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="subwheel2_bottom_joint" type="continuous">
    <parent link="wheel2_link"/>
    <child link="subwheel2_bottom_link"/>
    <origin rpy="0 0 -1.57079632679" xyz="0.0125 0 0.0234"/>
    <axis xyz="1 0 0"/>
    <limit effort="0" velocity="0"/>
    <dynamics damping="0" friction="0"/>
  </joint>
  <link name="subwheel2_bottom_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.006"/>
      <inertia ixx="1e-08" ixy="0" ixz="0" iyy="1e-08" iyz="0" izz="1e-08"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="subwheel2_right_joint" type="continuous">
    <parent link="wheel2_link"/>
    <child link="subwheel2_right_link"/>
    <origin rpy="0 -1.57079632679 -1.57079632679" xyz="0.0125 0.0234 0"/>
    <axis xyz="1 0 0"/>
    <limit effort="0" velocity="0"/>
    <dynamics damping="0" friction="0"/>
  </joint>
  <link name="subwheel2_right_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.006"/>
      <inertia ixx="1e-08" ixy="0" ixz="0" iyy="1e-08" iyz="0" izz="1e-08"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="subwheel2_left_joint" type="continuous">
    <parent link="wheel2_link"/>
    <child link="subwheel2_left_link"/>
    <origin rpy="0 1.57079632679 -1.57079632679" xyz="0.0125 -0.0234 0"/>
    <axis xyz="1 0 0"/>
    <limit effort="0" velocity="0"/>
    <dynamics damping="0" friction="0"/>
  </joint>
  <link name="subwheel2_left_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.006"/>
      <inertia ixx="1e-08" ixy="0" ixz="0" iyy="1e-08" iyz="0" izz="1e-08"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="subwheel3_top_joint" type="continuous">
    <parent link="wheel3_link"/>
    <child link="subwheel3_top_link"/>
    <origin rpy="3.14159265359 0 -1.57079632679" xyz="0.0125 0 -0.0234"/>
    <axis xyz="1 0 0"/>
    <limit effort="0" velocity="0"/>
    <dynamics damping="0" friction="0"/>
  </joint>
  <link name="subwheel3_top_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.006"/>
      <inertia ixx="1e-08" ixy="0" ixz="0" iyy="1e-08" iyz="0" izz="1e-08"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="subwheel3_bottom_joint" type="continuous">
    <parent link="wheel3_link"/>
    <child link="subwheel3_bottom_link"/>
    <origin rpy="0 0 -1.57079632679" xyz="0.0125 0 0.0234"/>
    <axis xyz="1 0 0"/>
    <limit effort="0" velocity="0"/>
    <dynamics damping="0" friction="0"/>
  </joint>
  <link name="subwheel3_bottom_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.006"/>
      <inertia ixx="1e-08" ixy="0" ixz="0" iyy="1e-08" iyz="0" izz="1e-08"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="subwheel3_right_joint" type="continuous">
    <parent link="wheel3_link"/>
    <child link="subwheel3_right_link"/>
    <origin rpy="0 -1.57079632679 -1.57079632679" xyz="0.0125 0.0234 0"/>
    <axis xyz="1 0 0"/>
    <limit effort="0" velocity="0"/>
    <dynamics damping="0" friction="0"/>
  </joint>
  <link name="subwheel3_right_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.006"/>
      <inertia ixx="1e-08" ixy="0" ixz="0" iyy="1e-08" iyz="0" izz="1e-08"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="subwheel3_left_joint" type="continuous">
    <parent link="wheel3_link"/>
    <child link="subwheel3_left_link"/>
    <origin rpy="0 1.57079632679 -1.57079632679" xyz="0.0125 -0.0234 0"/>
    <axis xyz="1 0 0"/>
    <limit effort="0" velocity="0"/>
    <dynamics damping="0" friction="0"/>
  </joint>
  <link name="subwheel3_left_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.006"/>
      <inertia ixx="1e-08" ixy="0" ixz="0" iyy="1e-08" iyz="0" izz="1e-08"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/wheels/Wheel_FreeWheel_V2.0.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- Ballbot Sensors-->
  <joint name="imu_joint" type="fixed">
    <parent link="body_link"/>
    <child link="imu_link"/>
    <origin rpy="0.0 0.0 0" xyz="0 0 0.068"/>
  </joint>
  <link name="imu_link">
    <inertial>
      <origin xyz="0.0 0.0 0.0"/>
      <mass value="0.00001"/>
      <inertia ixx="0.00000001" ixy="0.0" ixz="0.0" iyy="0.00000001" iyz="0.0" izz="0.00000001"/>
    </inertial>
  </link>
  <!--laser sensor: -->
  <joint name="scan_joint" type="fixed">
    <parent link="body_link"/>
    <child link="base_scan"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.02076 0 0.1225"/>
  </joint>
  <link name="base_scan">
    <inertial>
      <mass value="0.00001"/>
      <!-- TODO origin here! -->
      <origin xyz="-0.00687 0.0001 0.0038"/>
      <inertia ixx="-1.801e-06" ixy="-0.007e-06" ixz="3.231e-06" iyy="-7.595e-06" iyz="0.004e-06" izz="-5.794e-06"/>
    </inertial>
  </link>
  <!--
<joint name="realsense_mount_joint" type="fixed">
<parent link="body_link" />
<child link="camera_mount_link" />
<origin xyz="0.17407 -0.04586 0.03995" rpy="0.0 0.0 ${pi}" />
</joint>

<link name="camera_mount_link">
<visual>
<origin xyz="0.00133 -0.046 -0.00326" rpy="0.0 0.0 0.0" />
<geometry>
<mesh filename="meshes/base/realsense_mount.stl" scale="0.001 0.001 0.001" />
</geometry>
<material name="dark" />
</visual>

<collision>
<origin xyz="0.00133 -0.046 -0.00326" rpy="0.0 0.0 0.0" />
<geometry>
<box size="0.0175 0.134 0.024" />
</geometry>
</collision>

<inertial>
<mass value="0.023" />
<origin xyz="0.00616 -0.04132 -0.00000235" />
<inertia ixx="40.506e-06" ixy="-0.712e-06" ixz="0.472e-06"
       iyy="2.546e-06" iyz="-0.601e-06"
       izz="39.799e-06" />
</inertial>
</link>

<xacro:realsense_camera name="camera" parent="camera_mount_link">
<origin xyz="0.0 0.005 -0.00337" rpy="0.0 0.0 ${pi}" />
</xacro:realsense_camera>
-->
</robot>

